"use strict";(self["webpackChunkwpa_gereco"]=self["webpackChunkwpa_gereco"]||[]).push([[384],{4384:function(e,t,n){n.r(t),n.d(t,{default:function(){return ye}});var a=n(3396);const i={class:"VGInter"};function r(e,t,n,r,l,o){const s=(0,a.up)("VGInter");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(s,{msg:"Welcome to Your Vue.js App"})])}var l=n(9242),o=n(7139),s=n(3630),_=n(2957);const p=e=>((0,a.dD)("data-v-75cd2781"),e=e(),(0,a.Cn)(),e),u={class:"form_header"},c={class:"header_headline"},d=["href"],m=p((()=>(0,a._)("img",{class:"return_button",src:s},null,-1))),h=[m],v=p((()=>(0,a._)("img",{src:_},null,-1))),b=p((()=>(0,a._)("tr",null,[(0,a._)("th",null,"N°"),(0,a._)("th",null,"Bât."),(0,a._)("th",null,"Esc."),(0,a._)("th",null,"Et."),(0,a._)("th",null,"Porte"),(0,a._)("th",null,"Suivi")],-1))),g=p((()=>(0,a._)("div",null,"Nom de l'occupant :",-1))),f={class:"checkbox_list"},w=p((()=>(0,a._)("div",{class:"form_bloc_title",style:{color:"black","margin-left":"20px"}},"Vérification",-1))),y=p((()=>(0,a._)("label",{for:"checkbox_cloture"},"Vérification RA",-1))),x=p((()=>(0,a._)("br",null,null,-1))),V=p((()=>(0,a._)("label",{for:"checkbox_cloture"},"Verification Robinetterie",-1))),D=p((()=>(0,a._)("br",null,null,-1))),k=p((()=>(0,a._)("label",{for:"checkbox_cloture"},"Verification WC",-1))),C=p((()=>(0,a._)("br",null,null,-1))),F=p((()=>(0,a._)("label",{for:"checkbox_cloture"},"Verification Générique",-1))),U=p((()=>(0,a._)("br",null,null,-1))),I={class:"form_bloc intervention"},q=p((()=>(0,a._)("div",{class:"form_bloc_title"},"Intervention",-1))),G={class:"form_bloc_content"},R={class:"intervention_type"},E={class:"intervention_bloc"},z=p((()=>(0,a._)("tr",null,[(0,a._)("th",null,"Lieu"),(0,a._)("th",null,"Famille"),(0,a._)("th",null,"Presta."),(0,a._)("th",null,"Qté.")],-1))),S=["onUpdate:modelValue","onChange"],M=p((()=>(0,a._)("option",null,"SDB",-1))),A=p((()=>(0,a._)("option",null,"WC",-1))),N=p((()=>(0,a._)("option",null,"Cuis.",-1))),W=p((()=>(0,a._)("option",null,"Ch.",-1))),L=p((()=>(0,a._)("option",null,"SD",-1))),O=[M,A,N,W,L],B=["onUpdate:modelValue","onChange"],H=p((()=>(0,a._)("option",{value:"1"},"RA - Robinet arrêt",-1))),P=p((()=>(0,a._)("option",{value:"4"},"WC",-1))),Y=p((()=>(0,a._)("option",{value:"3"},"ROB - Robinetterie",-1))),j=p((()=>(0,a._)("option",{value:"5"},"GENER - Générique",-1))),J=[H,P,Y,j],K=["onUpdate:modelValue","onChange","disabled"],Z=["value"],$=p((()=>(0,a._)("option",null,"Prestation hors-contrat",-1))),Q=["onUpdate:modelValue","onInput","disabled"],T=p((()=>(0,a._)("label",{style:{"font-weight":"bold"}},"Remarque si autre Lieu ou autre Robinetterie: ",-1))),X=p((()=>(0,a._)("br",null,null,-1))),ee={class:"more_inter_container"},te={class:"more_inter_container"},ne={class:"form_bloc intervention"},ae=p((()=>(0,a._)("div",{class:"form_bloc_title"},"Compte rendu / Commentaires :",-1))),ie={class:"form_bloc_content"},re={class:"checkbox_list"},le=p((()=>(0,a._)("label",null,"Statut intervention :",-1))),oe=p((()=>(0,a._)("option",null,"Clôturé",-1))),se=p((()=>(0,a._)("option",null,"En suspens",-1))),_e=[oe,se],pe=p((()=>(0,a._)("label",{for:"checkbox_cloture"},"HC-Devis à faire",-1))),ue=p((()=>(0,a._)("label",null,"Observations :",-1))),ce=["href"];function de(e,t,n,i,r,s){return(0,a.wg)(),(0,a.iD)("form",{onSubmit:t[20]||(t[20]=(0,l.iM)(((...e)=>s.submitForm&&s.submitForm(...e)),["prevent"]))},[(0,a._)("div",u,[(0,a._)("div",c,[(0,a._)("a",{href:"/#/idbtest/?item_id="+this.vg_id},h,8,d),v])]),(0,a._)("table",null,[b,(0,a._)("tr",null,[(0,a._)("td",null,(0,o.zw)(this.appartements.num),1),(0,a._)("td",null,(0,o.zw)(this.appartements.bat),1),(0,a._)("td",null,(0,o.zw)(this.appartements.escalier),1),(0,a._)("td",null,(0,o.zw)(this.appartements.etage),1),(0,a._)("td",null,(0,o.zw)(this.appartements.porte),1),(0,a._)("td",null,(0,o.zw)(this.appartements.suivi),1)])]),g,(0,a.wy)((0,a._)("input",{type:"text",name:"occ_nom","onUpdate:modelValue":t[0]||(t[0]=e=>this.appartements.nom=e),onChange:t[1]||(t[1]=t=>s.saveFormData(e.index))},null,544),[[l.nr,this.appartements.nom]]),(0,a._)("div",f,[w,(0,a.wy)((0,a._)("input",{type:"checkbox",name:"checkbox_ra","onUpdate:modelValue":t[2]||(t[2]=e=>this.appartements.verif_ra=e),onChange:t[3]||(t[3]=t=>s.saveFormData(e.index))},null,544),[[l.e8,this.appartements.verif_ra]]),y,x,(0,a.wy)((0,a._)("input",{type:"checkbox",name:"checkbox_rob","onUpdate:modelValue":t[4]||(t[4]=e=>this.appartements.verif_rob=e),onChange:t[5]||(t[5]=t=>s.saveFormData(e.index))},null,544),[[l.e8,this.appartements.verif_rob]]),V,D,(0,a.wy)((0,a._)("input",{type:"checkbox",name:"checkbox_wc","onUpdate:modelValue":t[6]||(t[6]=e=>this.appartements.verif_wc=e),onChange:t[7]||(t[7]=t=>s.saveFormData(e.index))},null,544),[[l.e8,this.appartements.verif_wc]]),k,C,(0,a.wy)((0,a._)("input",{type:"checkbox",name:"checkbox_gen","onUpdate:modelValue":t[8]||(t[8]=e=>this.appartements.verif_gen=e),onChange:t[9]||(t[9]=t=>s.saveFormData(e.index))},null,544),[[l.e8,this.appartements.verif_gen]]),F,U]),(0,a._)("div",I,[q,(0,a._)("div",G,[(0,a._)("div",R,[(0,a._)("div",E,[(0,a._)("table",null,[z,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.appartements.inter,((t,n)=>((0,a.wg)(),(0,a.iD)("tr",{key:n},[(0,a._)("td",null,[(0,a.wy)((0,a._)("select",{style:{width:"50px"},"onUpdate:modelValue":e=>t["inter_lieu"]=e,onChange:e=>s.saveFormData(n)},O,40,S),[[l.bM,t["inter_lieu"]]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("select",{style:{width:"75px"},"onUpdate:modelValue":e=>t["inter_type"]=e,onChange:e=>s.saveFormData(n)},J,40,B),[[l.bM,t["inter_type"]]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e=>t["inter_presta"]=e,onChange:e=>s.saveFormData(n),disabled:""!=t["inter_type"]?e.disabled:""},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.inter_option["presta_fam"+t["inter_type"]],(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e.id},(0,o.zw)(e.libelle),9,Z)))),128)),$],40,K),[[l.bM,t["inter_presta"]]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{style:{width:"15px"},type:"number","onUpdate:modelValue":e=>t["inter_qty"]=e,onInput:e=>s.saveFormData(n),disabled:""!=t["inter_lieu"]&&""!=t["inter_type"]?e.disabled:""},null,40,Q),[[l.nr,t["inter_qty"]]])])])))),128))]),(0,a._)("p",null,[T,X,(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":t[10]||(t[10]=e=>this.appartements.remarque_inter=e),onInput:t[11]||(t[11]=t=>s.saveFormData(e.index))},null,544),[[l.nr,this.appartements.remarque_inter]])]),(0,a._)("div",ee,[(0,a._)("a",{href:"#",class:"add-more-inter",onClick:t[12]||(t[12]=(0,l.iM)(((...e)=>s.addItem&&s.addItem(...e)),["prevent"]))},"+")]),(0,a._)("div",te,[(0,a._)("a",{href:"#",class:"add-more-inter",onClick:t[13]||(t[13]=(0,l.iM)(((...e)=>s.removeItem&&s.removeItem(...e)),["prevent"]))},"-")])])])])]),(0,a._)("div",ne,[ae,(0,a._)("div",ie,[(0,a._)("div",re,[le,(0,a.wy)((0,a._)("select",{class:"select-status","onUpdate:modelValue":t[14]||(t[14]=e=>this.appartements.statut=e),onChange:t[15]||(t[15]=t=>s.saveFormData(e.index)),required:""},_e,544),[[l.bM,this.appartements.statut]]),(0,a.wy)((0,a._)("input",{type:"checkbox",name:"checkbox_devis","onUpdate:modelValue":t[16]||(t[16]=e=>this.appartements.checkbox_devis=e),onChange:t[17]||(t[17]=t=>s.saveFormData(e.index))},null,544),[[l.e8,this.appartements.checkbox_devis]]),pe]),(0,a._)("div",null,[ue,(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":t[18]||(t[18]=e=>this.appartements.remarque=e),onInput:t[19]||(t[19]=t=>s.saveFormData(e.index))},null,544),[[l.nr,this.appartements.remarque]])])])]),(0,a._)("a",{href:"/#/idbtest/?item_id="+this.vg_id,style:{background:"#81c0cc",color:"white",padding:"10px","border-radius":"10px"}},"SAUVEGARDER",8,ce)],32)}n(7658);var me=n(9262),he={name:"VGInter",data(){return{vg_occ:"",vg_id:"",ctr_code:"",inter_option:[],appartements:{num:"",bat:"",nom:"",escalier:"",etage:"",porte:"",suivi:"",remarque_inter:"",statut:"",checkbox_devis:!1,remarque:"",inter:[{inter_type:"",inter_lieu:"",inter_presta:"",inter_qty:"1"}],verif_ra:!1,verif_rob:!1,verif_wc:!1,verif_gen:!1}}},mounted(){let e=window.location.href.split("?"),t=e[1].split("&"),n={},a="";t.forEach((function(e){a=e.split("="),2==a.length&&(n[a[0]]=a[1])}));let i=n.vgocc;this.vg_occ=i,this.vg_id=this.$route.params.id,this.getFormData(),window.addEventListener("beforeunload",this.saveFormData)},beforeUnmount(){window.removeEventListener("beforeunload",this.saveFormData)},methods:{async saveFormData(){var e=this.$data;e=JSON.stringify(e);var t=JSON.parse(e);await(0,me.t8)("VG-"+this.vg_id+"-"+this.vg_occ,t.appartements)},async getFormData(){let e=await(0,me.U2)("VG-"+this.vg_id+"-"+this.vg_occ),t=await(0,me.U2)("VG-"+this.vg_id);this.inter_option=t.inter_option,console.log(t),this.appartements=e},addItem(){if(void 0!=this.appartements.inter[this.appartements.inter.length-1]){var e=this.appartements.inter[this.appartements.inter.length-1];""!=e.inter_type&&""!=e.inter_lieu&&""!=e.inter_presta&&""!=e.inter_qty?this.appartements.inter.push({inter_type:"",inter_lieu:"",inter_presta:"",inter_qty:"1"}):alert("Vous devez remplir l'intervention précédente avant d'en rajouter une nouvelle")}else this.appartements.inter.push({inter_type:"",inter_lieu:"",inter_presta:"",inter_qty:"1"});this.saveFormData()},removeItem(){this.appartements.inter.pop(),this.saveFormData()},submitForm(){this.getFormData()}}},ve=n(89);const be=(0,ve.Z)(he,[["render",de],["__scopeId","data-v-75cd2781"]]);var ge=be,fe={name:"VGInterView",components:{VGInter:ge}};const we=(0,ve.Z)(fe,[["render",r]]);var ye=we},3630:function(e,t,n){e.exports=n.p+"img/fleche2_blanc.dac177de.svg"},2957:function(e,t,n){e.exports=n.p+"img/logo-gereco-2.012b9603.svg"}}]);
//# sourceMappingURL=384.804581e3.js.map