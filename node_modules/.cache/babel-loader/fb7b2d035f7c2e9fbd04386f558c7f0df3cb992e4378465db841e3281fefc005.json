{"ast":null,"code":"export default {\n  name: 'App',\n  data() {\n    return {\n      showConnLost: false,\n      showConnBack: false,\n      alertMessage: '',\n      onLine: navigator.onLine,\n      showBackOnline: false\n    };\n  },\n  methods: {\n    updateOnlineStatus() {\n      this.onLine = navigator.onLine;\n      if (!this.onLine) {\n        this.showTemporaryAlert('Connexion Internet perdue !', 'lost');\n      }\n    },\n    showTemporaryAlert(message, status) {\n      this.alertMessage = message;\n      if (status == 'lost') {\n        this.showConnLost = true;\n      }\n      if (status == 'back') {\n        this.showConnBack = true;\n        this.showConnLost = false;\n        setTimeout(() => {\n          this.showConnBack = false;\n        }, 3000);\n      }\n    }\n  },\n  watch: {\n    onLine(val) {\n      if (val) {\n        this.showBackOnline = true;\n        setTimeout(() => {\n          this.showBackOnline = false;\n          this.showTemporaryAlert('Connexion Internet rétablie !', 'back');\n        }, 1000);\n      }\n    }\n  },\n  async mounted() {\n    window.addEventListener('online', this.updateOnlineStatus);\n    window.addEventListener('offline', this.updateOnlineStatus);\n  },\n  beforeUnmount() {\n    window.removeEventListener('online', this.updateOnlineStatus);\n    window.removeEventListener('offline', this.updateOnlineStatus);\n  }\n};","map":{"version":3,"mappings":"AAEA,eAAe;EACXA,IAAI,EAAE,KAAK;EACXC,IAAI,GAAG;IACH,OAAO;MACHC,YAAY,EAAE,KAAK;MACnBC,YAAY,EAAE,KAAK;MACnBC,YAAY,EAAE,EAAE;MAChBC,MAAM,EAAEC,SAAS,CAACD,MAAM;MACxBE,cAAc,EAAE;IACpB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACLC,kBAAkB,GAAG;MACjB,IAAI,CAACJ,MAAK,GAAIC,SAAS,CAACD,MAAM;MAC9B,IAAI,CAAC,IAAI,CAACA,MAAM,EAAE;QACd,IAAI,CAACK,kBAAkB,CAAC,6BAA6B,EAAE,MAAM,CAAC;MAClE;IACJ,CAAC;IACDA,kBAAkB,CAACC,OAAO,EAAEC,MAAM,EAAE;MAChC,IAAI,CAACR,YAAW,GAAIO,OAAO;MAC3B,IAAGC,MAAK,IAAK,MAAM,EAAE;QACjB,IAAI,CAACV,YAAW,GAAI,IAAI;MAC5B;MACA,IAAGU,MAAK,IAAK,MAAM,EAAE;QACjB,IAAI,CAACT,YAAW,GAAI,IAAI;QACxB,IAAI,CAACD,YAAW,GAAI,KAAK;QACzBW,UAAU,CAAC,MAAM;UACb,IAAI,CAACV,YAAW,GAAI,KAAK;QAC7B,CAAC,EAAE,IAAI,CAAC;MACZ;IACJ;EACJ,CAAC;EACDW,KAAK,EAAE;IACHT,MAAM,CAACU,GAAG,EAAE;MACR,IAAIA,GAAG,EAAE;QACL,IAAI,CAACR,cAAa,GAAI,IAAI;QAC1BM,UAAU,CAAC,MAAM;UACb,IAAI,CAACN,cAAa,GAAI,KAAK;UAC3B,IAAI,CAACG,kBAAkB,CAAC,+BAA+B,EAAE,MAAM,CAAC;QACpE,CAAC,EAAE,IAAI,CAAC;MACZ;IACJ;EACJ,CAAC;EACD,MAAMM,OAAM,GAAK;IACbC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACT,kBAAkB,CAAC;IAC1DQ,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACT,kBAAkB,CAAC;EAC/D,CAAC;EACDU,aAAa,GAAG;IACZF,MAAM,CAACG,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACX,kBAAkB,CAAC;IAC7DQ,MAAM,CAACG,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAACX,kBAAkB,CAAC;EAClE;AACJ,CAAC","names":["name","data","showConnLost","showConnBack","alertMessage","onLine","navigator","showBackOnline","methods","updateOnlineStatus","showTemporaryAlert","message","status","setTimeout","watch","val","mounted","window","addEventListener","beforeUnmount","removeEventListener"],"sourceRoot":"","sources":["/Users/antoinelucas/Sites/1PBrocoli/gereco/wpa-gereco/src/App.vue"],"sourcesContent":["<script>\n\nexport default {\n    name: 'App',\n    data() {\n        return {\n            showConnLost: false,\n            showConnBack: false,\n            alertMessage: '',\n            onLine: navigator.onLine,\n            showBackOnline: false,\n        };\n    },\n    methods: {\n        updateOnlineStatus() {\n            this.onLine = navigator.onLine;\n            if (!this.onLine) {\n                this.showTemporaryAlert('Connexion Internet perdue !', 'lost');\n            }\n        },\n        showTemporaryAlert(message, status) {\n            this.alertMessage = message;\n            if(status == 'lost') {\n                this.showConnLost = true;\n            }\n            if(status == 'back') {\n                this.showConnBack = true;\n                this.showConnLost = false;\n                setTimeout(() => {\n                    this.showConnBack = false;\n                }, 3000);\n            }\n        }\n    },\n    watch: {\n        onLine(val) {\n            if (val) {\n                this.showBackOnline = true;\n                setTimeout(() => {\n                    this.showBackOnline = false;\n                    this.showTemporaryAlert('Connexion Internet rétablie !', 'back');\n                }, 1000);\n            }\n        }\n    },\n    async mounted () {\n        window.addEventListener('online', this.updateOnlineStatus);\n        window.addEventListener('offline', this.updateOnlineStatus);\n    },\n    beforeUnmount() {\n        window.removeEventListener('online', this.updateOnlineStatus);\n        window.removeEventListener('offline', this.updateOnlineStatus);\n    }\n};\n\n</script>\n\n<template>\n  <div v-bind:class = \"showConnLost ? '':'hide'\" class=\"alert lost\">{{ alertMessage }}</div>\n  <div v-bind:class = \"showConnBack ? '':'hide'\" class=\"alert back\">{{ alertMessage }}</div>\n<!--   <nav>\n    <router-link to=\"/\">Home</router-link>\n  </nav> -->\n  <router-view/>\n</template>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  width: 100%;\n}\n\nnav {\n  padding: 30px;\n}\n\nnav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\nnav a.router-link-exact-active {\n  color: #42b983;\n}\n\nbody {\n}\n\n/* style message connexion */\n.alert {\n    padding: 10px; \n    width: 95%;\n    box-sizing: border-box;\n    border: 1px solid black;\n    border-radius: 10px;\n    position: fixed;\n    z-index: 9999;\n    opacity: 1;\n    /*transition: opacity 0.3s ease-in-out;*/\n    top: 30px;\n    left: 50%;\n    transform: translate(-50%, -50%);\n} .back {\n    background-color: #82ff82;\n} .lost {\n    background-color: #ff8282;\n}\n.alert.hide {\n  display: none;\n  /*transition: opacity 0.3s ease-in-out;*/\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}