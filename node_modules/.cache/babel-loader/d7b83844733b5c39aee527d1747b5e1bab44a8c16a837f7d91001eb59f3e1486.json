{"ast":null,"code":"import { toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", {\n    class: _normalizeClass([$data.showConnLost ? '' : 'hide', \"alert lost\"])\n  }, _toDisplayString($data.alertMessage), 3 /* TEXT, CLASS */), _createElementVNode(\"div\", {\n    class: _normalizeClass([$data.showConnBack ? '' : 'hide', \"alert back\"])\n  }, _toDisplayString($data.alertMessage), 3 /* TEXT, CLASS */), _createCommentVNode(\"   <nav>\\n    <router-link to=\\\"/\\\">Home</router-link>\\n  </nav> \"), _createVNode(_component_router_view)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;;6DA0DEA,oBAA0F;IAA9EC,KAAK,mBAAIC,kBAAY,gBAAoB,YAAY;sBAAIA,kBAAY,yBACjFF,oBAA0F;IAA9EC,KAAK,mBAAIC,kBAAY,gBAAoB,YAAY;sBAAIA,kBAAY,yBACnFC,wFAEY,EACVC,aAAcC","names":["_createElementVNode","class","$data","_createCommentVNode","_createVNode","_component_router_view"],"sourceRoot":"","sources":["/Users/antoinelucas/Sites/1PBrocoli/gereco/wpa-gereco/src/App.vue"],"sourcesContent":["<script>\n\nexport default {\n    name: 'App',\n    data() {\n        return {\n            showConnLost: false,\n            showConnBack: false,\n            alertMessage: '',\n            onLine: navigator.onLine,\n            showBackOnline: false,\n        };\n    },\n    methods: {\n        updateOnlineStatus() {\n            this.onLine = navigator.onLine;\n            if (!this.onLine) {\n                this.showTemporaryAlert('Connexion Internet perdue !', 'lost');\n            }\n        },\n        showTemporaryAlert(message, status) {\n            this.alertMessage = message;\n            if(status == 'lost') {\n                this.showConnLost = true;\n            }\n            if(status == 'back') {\n                this.showConnBack = true;\n                this.showConnLost = false;\n                setTimeout(() => {\n                    this.showConnBack = false;\n                }, 3000);\n            }\n        }\n    },\n    watch: {\n        onLine(val) {\n            if (val) {\n                this.showBackOnline = true;\n                setTimeout(() => {\n                    this.showBackOnline = false;\n                    this.showTemporaryAlert('Connexion Internet r√©tablie !', 'back');\n                }, 1000);\n            }\n        }\n    },\n    async mounted () {\n        window.addEventListener('online', this.updateOnlineStatus);\n        window.addEventListener('offline', this.updateOnlineStatus);\n    },\n    beforeUnmount() {\n        window.removeEventListener('online', this.updateOnlineStatus);\n        window.removeEventListener('offline', this.updateOnlineStatus);\n    }\n};\n\n</script>\n\n<template>\n  <div v-bind:class = \"showConnLost ? '':'hide'\" class=\"alert lost\">{{ alertMessage }}</div>\n  <div v-bind:class = \"showConnBack ? '':'hide'\" class=\"alert back\">{{ alertMessage }}</div>\n<!--   <nav>\n    <router-link to=\"/\">Home</router-link>\n  </nav> -->\n  <router-view/>\n</template>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  width: 100%;\n}\n\nnav {\n  padding: 30px;\n}\n\nnav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\nnav a.router-link-exact-active {\n  color: #42b983;\n}\n\nbody {\n}\n\n/* style message connexion */\n.alert {\n    padding: 10px; \n    width: 95%;\n    box-sizing: border-box;\n    border: 1px solid black;\n    border-radius: 10px;\n    position: fixed;\n    z-index: 9999;\n    opacity: 1;\n    /*transition: opacity 0.3s ease-in-out;*/\n    top: 30px;\n    left: 50%;\n    transform: translate(-50%, -50%);\n} .back {\n    background-color: #82ff82;\n} .lost {\n    background-color: #ff8282;\n}\n.alert.hide {\n  display: none;\n  /*transition: opacity 0.3s ease-in-out;*/\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}