"use strict";(self["webpackChunkwpa_gereco"]=self["webpackChunkwpa_gereco"]||[]).push([[333],{8333:function(e,t,a){a.r(t),a.d(t,{default:function(){return me}});var n=a(3396);const o={class:"VHInter"};function i(e,t,a,i,r,l){const s=(0,n.up)("VHInter");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(s,{msg:"Welcome to Your Vue.js App"})])}var r=a(9242),l=a(7139),s=a(3630),p=a(2957);const d=e=>((0,n.dD)("data-v-ca60dade"),e=e(),(0,n.Cn)(),e),c={class:"form_header"},_=(0,n.uE)('<div class="header_headline" data-v-ca60dade><a href="/#/vh" data-v-ca60dade><img class="return_button" src="'+s+'" data-v-ca60dade></a><img src="'+p+'" data-v-ca60dade></div><div style="font-size:19px;color:white;font-weight:bold;" data-v-ca60dade>VISITE HEBDOMADAIRE - 07/09/2023</div>',2),u={style:{"font-size":"14px",color:"white","font-weight":"bold","margin-bottom":"20px"}},m=d((()=>(0,n._)("tr",null,[(0,n._)("th",null,"Nom"),(0,n._)("th",null,"Bât."),(0,n._)("th",null,"Esc."),(0,n._)("th",null,"Et."),(0,n._)("th",null,"Porte"),(0,n._)("th",null,"Objet")],-1))),h={class:"checkbox_list"},v=d((()=>(0,n._)("div",{class:"form_bloc_title",style:{color:"black","margin-left":"20px"}},"Vérification",-1))),b=d((()=>(0,n._)("label",{for:"checkbox_cloture"},"Vérification RA",-1))),g=d((()=>(0,n._)("br",null,null,-1))),f=d((()=>(0,n._)("label",{for:"checkbox_cloture"},"Verification Robinetterie",-1))),x=d((()=>(0,n._)("br",null,null,-1))),w=d((()=>(0,n._)("label",{for:"checkbox_cloture"},"Verification WC",-1))),y=d((()=>(0,n._)("br",null,null,-1))),C={class:"form_bloc intervention"},k=d((()=>(0,n._)("div",{class:"form_bloc_title"},"Intervention",-1))),D={class:"form_bloc_content"},F={class:"intervention_type"},V={class:"intervention_bloc"},R=d((()=>(0,n._)("tr",null,[(0,n._)("th",null,"Lieu"),(0,n._)("th",null,"Famille"),(0,n._)("th",null,"Presta."),(0,n._)("th",null,"Qté.")],-1))),E=["onUpdate:modelValue","onChange"],U=d((()=>(0,n._)("option",null,"SDB",-1))),I=d((()=>(0,n._)("option",null,"WC",-1))),M=d((()=>(0,n._)("option",null,"Cuis.",-1))),A=d((()=>(0,n._)("option",null,"Ch.",-1))),z=d((()=>(0,n._)("option",null,"SD",-1))),H=[U,I,M,A,z],q=["onUpdate:modelValue","onChange"],P=d((()=>(0,n._)("option",{value:"ra"},"RA - Robinet d'arrêt",-1))),S=d((()=>(0,n._)("option",{value:"wc"},"WC",-1))),L=d((()=>(0,n._)("option",{value:"robinetterie"},"R - Robinetterie",-1))),O=d((()=>(0,n._)("option",{value:"robinetterie commune"},"RC - Robinetterie commune",-1))),W=[P,S,L,O],j=["onUpdate:modelValue","onChange","disabled"],N=d((()=>(0,n._)("option",null,"Prestation hors-contrat",-1))),B=["onUpdate:modelValue","onInput","disabled"],J={class:"more_inter_container"},Y={class:"more_inter_container"},K=d((()=>(0,n._)("p",null,[(0,n._)("label",{style:{"font-weight":"bold"}},"Remarque si autre Lieu ou autre Robinetterie: "),(0,n._)("br"),(0,n._)("textarea")],-1))),T={class:"form_bloc intervention"},Z=d((()=>(0,n._)("div",{class:"form_bloc_title"},"Compte rendu / Commentaires :",-1))),$={class:"form_bloc_content"},G={class:"checkbox_list"},Q=d((()=>(0,n._)("label",{for:"checkbox_cloture"},"Clôturé",-1))),X=d((()=>(0,n._)("label",{for:"checkbox_cloture"},"Suspens",-1))),ee=d((()=>(0,n._)("label",{for:"checkbox_cloture"},"HC-Devis à faire",-1))),te=d((()=>(0,n._)("label",null,"Observations :",-1))),ae=d((()=>(0,n._)("label",null,"Temps passé (hors déplacement)* :",-1))),ne=(0,n.uE)("<option data-v-ca60dade>15min</option><option data-v-ca60dade>30min</option><option data-v-ca60dade>45min</option><option data-v-ca60dade>1h</option><option data-v-ca60dade>1h15min</option><option data-v-ca60dade>1h30min</option><option data-v-ca60dade>1h45min</option><option data-v-ca60dade>2h</option><option data-v-ca60dade>2h15min</option><option data-v-ca60dade>2h30min</option><option data-v-ca60dade>2h45min</option><option data-v-ca60dade>3h</option><option data-v-ca60dade>3h15min</option><option data-v-ca60dade>3h30min</option><option data-v-ca60dade>3h45min</option><option data-v-ca60dade>4h</option>",16),oe=[ne],ie=d((()=>(0,n._)("a",{href:"/#/idbtest",style:{background:"#c2bdb9",color:"white",padding:"10px","border-radius":"10px"}},"SAUVEGARDER",-1)));function re(e,t,a,o,i,s){return(0,n.wg)(),(0,n.iD)("form",{onSubmit:t[17]||(t[17]=(0,r.iM)(((...e)=>s.submitForm&&s.submitForm(...e)),["prevent"]))},[(0,n._)("div",c,[_,(0,n._)("div",u,"N°"+(0,l.zw)(i.vg_occ),1)]),(0,n._)("table",null,[m,(0,n._)("tr",null,[(0,n._)("td",null,(0,l.zw)(this.appartements.nom),1),(0,n._)("td",null,(0,l.zw)(this.appartements.bat),1),(0,n._)("td",null,(0,l.zw)(this.appartements.escalier),1),(0,n._)("td",null,(0,l.zw)(this.appartements.etage),1),(0,n._)("td",null,(0,l.zw)(this.appartements.porte),1),(0,n._)("td",null,(0,l.zw)(this.appartements.objet),1)])]),(0,n._)("div",h,[v,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"checkbox_cloture","onUpdate:modelValue":t[0]||(t[0]=e=>this.appartements.verif_ra=e),onChange:t[1]||(t[1]=t=>s.saveFormData(e.index))},null,544),[[r.e8,this.appartements.verif_ra]]),b,g,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"checkbox_suspens","onUpdate:modelValue":t[2]||(t[2]=e=>this.appartements.verif_rob=e),onChange:t[3]||(t[3]=t=>s.saveFormData(e.index))},null,544),[[r.e8,this.appartements.verif_rob]]),f,x,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"checkbox_devis","onUpdate:modelValue":t[4]||(t[4]=e=>this.appartements.verif_wc=e),onChange:t[5]||(t[5]=t=>s.saveFormData(e.index))},null,544),[[r.e8,this.appartements.verif_wc]]),w,y]),(0,n._)("div",C,[k,(0,n._)("div",D,[(0,n._)("div",F,[(0,n._)("div",V,[(0,n._)("table",null,[R,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.appartements.inter,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",{key:a},[(0,n._)("td",null,[(0,n.wy)((0,n._)("select",{style:{width:"50px"},"onUpdate:modelValue":e=>t["inter_lieu"]=e,onChange:e=>s.saveFormData(a)},H,40,E),[[r.bM,t["inter_lieu"]]])]),(0,n._)("td",null,[(0,n.wy)((0,n._)("select",{style:{width:"75px"},"onUpdate:modelValue":e=>t["inter_type"]=e,onChange:e=>(s.saveFormData(a),s.changeFamily(e,a))},W,40,q),[[r.bM,t["inter_type"]]])]),(0,n._)("td",null,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":e=>t["inter_presta"]=e,onChange:e=>s.saveFormData(a),disabled:""!=t["inter_lieu"]&&""!=t["inter_type"]?e.disabled:""},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t["inter_option"],(e=>((0,n.wg)(),(0,n.iD)("option",{key:e},(0,l.zw)(e),1)))),128)),N],40,j),[[r.bM,t["inter_presta"]]])]),(0,n._)("td",null,[(0,n.wy)((0,n._)("input",{style:{width:"15px"},type:"number","onUpdate:modelValue":e=>t["inter_qty"]=e,onInput:e=>s.saveFormData(a),disabled:""!=t["inter_lieu"]&&""!=t["inter_type"]?e.disabled:""},null,40,B),[[r.nr,t["inter_qty"]]])])])))),128))]),(0,n._)("div",J,[(0,n._)("a",{href:"#",class:"add-more-inter",onClick:t[6]||(t[6]=(0,r.iM)(((...e)=>s.addItem&&s.addItem(...e)),["prevent"]))},"+")]),(0,n._)("div",Y,[(0,n._)("a",{href:"#",class:"add-more-inter",onClick:t[7]||(t[7]=(0,r.iM)(((...e)=>s.removeItem&&s.removeItem(...e)),["prevent"]))},"-")]),K])])])]),(0,n._)("div",T,[Z,(0,n._)("div",$,[(0,n._)("div",G,[(0,n.wy)((0,n._)("input",{type:"checkbox",name:"checkbox_cloture","onUpdate:modelValue":t[8]||(t[8]=e=>this.appartements.checkbox_cloture=e),onChange:t[9]||(t[9]=t=>s.saveFormData(e.index))},null,544),[[r.e8,this.appartements.checkbox_cloture]]),Q,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"checkbox_suspens","onUpdate:modelValue":t[10]||(t[10]=e=>this.appartements.checkbox_suspens=e),onChange:t[11]||(t[11]=t=>s.saveFormData(e.index))},null,544),[[r.e8,this.appartements.checkbox_suspens]]),X,(0,n.wy)((0,n._)("input",{type:"checkbox",name:"checkbox_devis","onUpdate:modelValue":t[12]||(t[12]=e=>this.appartements.checkbox_devis=e),onChange:t[13]||(t[13]=t=>s.saveFormData(e.index))},null,544),[[r.e8,this.appartements.checkbox_devis]]),ee]),(0,n._)("div",null,[te,(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>this.appartements.remarque=e)},null,512),[[r.nr,this.appartements.remarque]])]),(0,n._)("div",null,[ae,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[15]||(t[15]=e=>this.appartements.temps_passe=e),onChange:t[16]||(t[16]=t=>s.saveFormData(e.index))},oe,544),[[r.bM,this.appartements.temps_passe]])])])]),ie],32)}a(7658);var le=a(9262),se={name:"VHInter",data(){return{vg_occ:"",vg_id:"",appartements:{nom:"",bat:"",escalier:"",etage:"",porte:"",objet:"",remarque_ra:"",temps_passe:"",checkbox_cloture:!1,checkbox_suspens:!1,checkbox_devis:!1,inter:[{inter_option:[],inter_type:"",inter_lieu:"",inter_presta:"",inter_qty:""}],verif_ra:!1,verif_rob:!1,verif_wc:!1}}},mounted(){let e=window.location.href.split("?"),t=e[1].split("&"),a={},n="";t.forEach((function(e){n=e.split("="),2==n.length&&(a[n[0]]=n[1])}));let o=a.vgocc;this.vg_occ=o,this.vg_id=this.$route.params.id,this.getFormData(),window.addEventListener("beforeunload",this.saveFormData)},beforeUnmount(){window.removeEventListener("beforeunload",this.saveFormData)},methods:{async saveFormData(){var e=this.$data;e=JSON.stringify(e);var t=JSON.parse(e);console.log(t.appartements),await(0,le.t8)("VH-xxx-"+this.vg_occ,t.appartements)},async getFormData(){let e=await(0,le.U2)("VH-xxx-"+this.vg_occ);this.appartements=e},addItem(){if(void 0!=this.appartements.inter[this.appartements.inter.length-1]){var e=this.appartements.inter[this.appartements.inter.length-1];""!=e.inter_type&&""!=e.inter_lieu&&""!=e.inter_presta&&""!=e.inter_qty?this.appartements.inter.push({inter_option:[],inter_type:"",inter_lieu:"",inter_presta:"",inter_qty:""}):alert("Vous devez remplir l'intervention précédente avant d'en rajouter une nouvelle")}else this.appartements.inter.push({inter_option:[],inter_type:"",inter_lieu:"",inter_presta:"",inter_qty:""});this.saveFormData()},removeItem(){this.appartements.inter.pop(),this.saveFormData()},changeFamily(e,t){"wc"==e.target.value?this.appartements.inter[t].inter_option=["MEC - Mécanisme de chasse","RF - Robinet flotteur","RAWC - Robinet d'arrêt de chasse d'eau","RES - Réservoir de chasse"]:"ra"==e.target.value?this.appartements.inter[t].inter_option=["RAEF - Robinet d'arrêt EF","JFRAEF - Joint fibre après RA EF","CAR - Clapet antiretour","MAN - Manchette d'attente"]:"robinetterie"==e.target.value?this.appartements.inter[t].inter_option=["MEL - Melangeur","MAL - Robinet machine à laver","FLEXD - Flexible et Douchette","CDC - Col de cygne"]:"robinetterie commune"==e.target.value&&(this.appartements.inter[t].inter_option=["VPCEFP2 - Vanne PDC EF controle manipulation","VPCEFP3 - Vanne PDC EF garantie totale","ROBCOM - Robinets de puisage commun"])},submitForm(){this.getFormData()}}},pe=a(89);const de=(0,pe.Z)(se,[["render",re],["__scopeId","data-v-ca60dade"]]);var ce=de,_e={name:"VHInterView",components:{VHInter:ce}};const ue=(0,pe.Z)(_e,[["render",i]]);var me=ue},3630:function(e,t,a){e.exports=a.p+"img/fleche2_blanc.dac177de.svg"},2957:function(e,t,a){e.exports=a.p+"img/logo-gereco-2.012b9603.svg"}}]);
//# sourceMappingURL=333.906a1d28.js.map